@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens */
:root{
  --surface: #f7fafc;
  --card: #ffffff;
  --muted: #64748b;
  --text: #0f172a;
  --accent-600: #0e7490;
  --accent-700: #075985;
  --glass: rgba(255,255,255,0.6);
}

/* font stack */
.font-ui { font-family: 'Inter', 'IBM Plex Sans', system-ui, -apple-system, "Segoe UI", Roboto, Arial; }
body { background: var(--surface); color: var(--text); }

/* layout helpers */
.max-content { max-width:1160px; margin:0 auto; padding:0 24px; }
.container-card { background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.96)); border-radius: 14px; padding: 28px; box-shadow: 0 6px 22px rgba(16,24,40,0.06); border: 1px solid rgba(15,23,42,0.04); }

/* buttons */
.btn-primary {
  @apply inline-flex items-center gap-2 bg-[var(--accent-600)] text-white px-4 py-2 rounded-md font-semibold shadow-sm hover:bg-[var(--accent-700)] transition;
}
.btn-secondary {
  @apply inline-flex items-center gap-2 bg-white border border-slate-200 text-slate-700 px-3 py-1.5 rounded-md hover:bg-slate-50 transition;
}
.btn-compact {
  @apply inline-flex items-center gap-2 bg-[var(--accent-600)] text-white px-3 py-1 rounded-md text-sm font-medium hover:bg-[var(--accent-700)];
}

/* card */
.card { @apply bg-[var(--card)] rounded-xl p-5 border border-slate-100 shadow-sm; }

/* headings */
.section-title { @apply text-lg font-semibold tracking-tight text-slate-900; }

/* grid */
.analysis-grid { display:grid; grid-template-columns: 1fr 360px; gap:24px; }
@media (max-width: 1024px) { .analysis-grid { grid-template-columns: 1fr; } }
.sticky-panel { position: sticky; top: 96px; }

/* drag/drop area */
.dropzone {
  border: 2px dashed rgba(14,116,144,0.16);
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(14,116,144,0.02), rgba(255,255,255,0));
  padding: 18px;
  display:flex;
  align-items:center;
  gap:12px;
  cursor:pointer;
  transition: border-color .18s ease, box-shadow .18s ease;
}
.dropzone.dragover {
  border-color: var(--accent-600);
  box-shadow: 0 6px 20px rgba(14,116,144,0.06);
}

/* spinner animation */
.spinner {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 3px solid rgba(255,255,255,0.2);
  border-top-color: rgba(255,255,255,0.95);
  animation: spin 1s linear infinite;
}
.skeleton {
  position: relative;
  overflow: hidden;
}
.skeleton::after {
  content: "";
  position: absolute;
  top: 0;
  left: -40%;
  width: 40%;
  height: 100%;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.7) 50%, rgba(255,255,255,0) 100%);
  animation: shimmer-ltr 1.4s ease-in-out infinite;
}
@keyframes shimmer-ltr { 0% { left: -40%; } 100% { left: 120%; } }

.analyzing-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(2px);
}
.progress { width: 70%; height: 8px; background: #e2e8f0; border-radius: 9999px; overflow: hidden; }
.progress-bar { height: 100%; background: var(--accent-600, #0ea5b6); border-radius: 9999px; transition: width 180ms ease; }
.loading-overlay {
  animation: fadeIn .18s ease;
}
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }

/* probability (custom bar chart) */
.analytics-chart { margin-top: 16px; padding-top: 6px; }
.bar-chart { width:100%; height:190px; display:flex; align-items:flex-end; gap:10px; padding:14px 10px; background:transparent; }
.bar { flex:1 1 0; display:flex; flex-direction:column; gap:8px; align-items:center; }
.bar-rect { width:100%; border-radius:6px; background:rgba(14,116,144,0.15); display:flex; align-items:flex-end; justify-content:center; transition: height .4s cubic-bezier(.22,.9,.21,1); }
.bar-fill { width:100%; border-radius:6px; background: linear-gradient(180deg, rgba(14,116,144,0.95), rgba(6,78,101,0.95)); box-shadow: 0 6px 16px rgba(14,116,144,0.12); }
.bar-label { margin-top:6px; font-size:12px; color:#0b1220; font-weight:600; text-align:center; transform:translateY(0); }

/* reasons / explainability layout */
.explain-grid { display:grid; grid-template-columns: 1fr 220px; gap:18px; align-items:start; }
@media (max-width: 980px) { .explain-grid { grid-template-columns: 1fr; } }
.ig-thumb { width:160px; height:160px; border-radius:8px; overflow:hidden; border:1px solid rgba(15,23,42,0.04); box-shadow: 0 6px 20px rgba(2,6,23,0.04); }

/* axis label force darker where chart library fails */
.chart-legend { color:#0b1220 !important; }

/* small utilities */
.hr { height:1px; background:linear-gradient(90deg, rgba(2,6,23,0.03), rgba(2,6,23,0)); margin:12px 0; }
